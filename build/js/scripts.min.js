!function(e){"function"==typeof define&&define.amd?define("app",e):e()}((function(){"use strict";let e,t;function a(a){a.preventDefault();let o,n=this.dataset.modalOpen;t=document.querySelector("#modal-"+n),"video"==n&&(o=t.querySelector("[data-video-play]"),o.src+="&autoplay=1"),function(t,a){e=t.querySelector("[data-modal-close]"),e.addEventListener("click",(function(e){e.preventDefault(),t.classList.remove("modal--active"),a&&(console.dir(a.src),a.src=a.src.split("&")[0])}))}(t,o),t.classList.add("modal--active")}document.querySelectorAll("[data-modal-open]").forEach(e=>e.addEventListener("click",a)),window.addEventListener("keydown",(function(e){27===e.keyCode&&t.classList.contains("modal--active")&&(e.preventDefault(),t.classList.remove("modal--active"))}));const o=document.querySelector("#modal-thanks"),n=document.querySelector("#modal-send"),s=document.querySelectorAll("[send-to]");let r,c=!0,l="";try{l=localStorage.getItem("sendName")}catch(e){c=!1}s.forEach(e=>function(e){const t=e.querySelector("input[name='firstname']"),a=e.querySelector("input[name='phone']");e.addEventListener("submit",(function(e){if(e.preventDefault(),t.value&&a.value){c&&localStorage.setItem("sendName",t.value),t.classList.remove("form__input--error"),a.classList.remove("form__input--error"),n&&n.classList.remove("modal--active");var s=$(this).serialize()+"&obj=form";$.ajax({type:"POST",url:"php/send.php",data:s,crossDomain:!0,success:function(){o&&(o.classList.add("modal--active"),function(e){r=e.querySelector("[data-modal-close]"),r.addEventListener("click",(function(t){t.preventDefault(),e.classList.remove("modal--active")}))}(o))}})}else e.preventDefault(),t.value?t.classList.remove("form__input--error"):t.classList.add("form__input--error"),a.value?a.classList.remove("form__input--error"):a.classList.add("form__input--error")}))}(e)),window.addEventListener("keydown",(function(e){27===e.keyCode&&o.classList.contains("modal--active")&&(e.preventDefault(),o.classList.remove("modal--active"))}))}));
//# sourceMappingURL=scripts.min.js.map
